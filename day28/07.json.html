<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>json 数据的处理</title>
  </head>
  <body>

    <script>

    var stu = {
      "name": "lisi",
      "age": 10,
      "hobby": ["read", "drink", "eat"],
      "score": 88
    };

    //json 序列化
    //将 json对象转换成字符串
    var str = JSON.stringify(stu, function (key, value) {
      // console.log("key = ", key);
      // console.log("value = ", value);
      // json  第一个参数是json数据 第二个参数是数组或者函数（对数据进行二次处理） 第三个参数是
      // 用来修饰输出的格式的，可以是数字和字符串 数字就是加几个空格
      if ( key === "age") {
        return value + 100;
      }

      if (key === "score"){
        return value  - 10;
      }

      return value;
    });
    console.log(str);



    str = JSON.stringify(stu, ['name', 'age', 'score']);
    console.log("================================");
    console.log(str);



    str = JSON.stringify(stu, null, '\t');
    console.log(str);


    console.log("---------------------------");

    //json的解析
    //json反序列化

    var result = '{"name":"lisi","age":10,"score":88}';

    //将字符串变成JSON对象
    console.log(JSON.parse(result));


    //JSON.parse转换的是json格式的字符串，不是任意的字符串！！！！！ 有2个参数 ，第二个是用来
    // 二次修改数据的。
    // console.log(JSON.parse("hello"));

    var obj = JSON.parse(result, function (key, value) {
        if (key === 'name'){
          return "我是" + value;
        }
        if (key === 'score') {
          return value - 10;
        }

        return value;
    });

    console.log(obj);





    </script>

  </body>
</html>
